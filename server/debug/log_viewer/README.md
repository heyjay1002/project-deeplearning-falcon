# 이력 조회 디버그 GUI

이 GUI는 메인 서버의 이력 조회 기능을 테스트하기 위한 디버그 도구입니다.

## 📋 기능

### 🔍 4가지 이력 조회 기능
1. **LC_OL**: 위험 요소 감지 이력 조회 (DETECT_EVENT)
2. **LC_BL**: 조류 위험도 등급 변화 이력 조회 (BIRD_RISK_LOG)
3. **LC_RL**: 조종사 요청 응답 이력 조회 (INTERACTION_LOG)
4. **LC_OI**: 이미지 요청 (Object ID 기반)

### 🎯 주요 특징
- 직관적인 탭 기반 인터페이스
- 날짜 범위 선택 (달력 위젯)
- 실시간 TCP 통신 로그
- 이미지 뷰어 내장
- 테이블 더블클릭으로 이미지 바로 보기

## 🚀 설치 및 실행

### 1. 의존성 설치
```bash
pip install -r requirements.txt
```

### 2. GUI 실행
```bash
python main.py
```

## 🎮 사용법

### 1. 서버 연결
- 서버 주소: `localhost` (기본값)
- 포트: `5100` (기본값)
- "연결" 버튼 클릭

### 2. 감지 이벤트 조회 (LC_OL)
1. "감지 이벤트" 탭 선택
2. 시작/끝 날짜 설정
3. "조회 (LC_OL)" 버튼 클릭
4. 결과 테이블에서 Object ID 더블클릭 → 자동으로 이미지 뷰어로 이동

### 3. 조류 위험도 조회 (LC_BL)
1. "조류 위험도" 탭 선택
2. 날짜 범위 설정
3. "조회 (LC_BL)" 버튼 클릭

### 4. 상호작용 로그 조회 (LC_RL)
1. "상호작용 로그" 탭 선택
2. 날짜 범위 설정
3. "조회 (LC_RL)" 버튼 클릭

### 5. 이미지 뷰어 (LC_OI)
1. "이미지 뷰어" 탭 선택
2. Object ID 입력 (예: 1750995441567)
3. "이미지 요청 (LC_OI)" 버튼 클릭
4. 이미지가 자동으로 400x400 크기로 조정되어 표시

## 📊 응답 형식

### LC_OL 응답
```
LR_OL:OK,HAZARD,1750995441567,PERSON,TWY_A,2025-01-27T12:34:56;HAZARD,1750995441568,BIRD,RWY,2025-01-27T12:35:00
```

### LC_BL 응답
```
LR_BL:OK,LOW,2025-01-27T12:34:56;MEDIUM,2025-01-27T12:35:00
```

### LC_RL 응답
```
LR_RL:OK,TAXI_REQUEST,TAXI_APPROVED,2025-01-27T12:34:56,2025-01-27T12:35:00
```

### LC_OI 응답
```
LR_OI:OK,12345,[바이너리 이미지 데이터]
```

## 🔧 개발자 정보

- TCP 통신은 별도 스레드에서 처리
- PyQt6 시그널/슬롯 시스템 사용
- 이미지는 QPixmap으로 처리
- 모든 통신 로그는 하단 패널에 실시간 표시

## ⚠️ 주의사항

1. 서버가 실행 중이어야 연결 가능
2. 이미지 파일은 서버의 `img/` 폴더에 있어야 함
3. Object ID는 정확한 값을 입력해야 함
4. 네트워크 연결 상태 확인 필요 